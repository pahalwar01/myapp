<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    <!--new user login R&D-->

    <!-- Add Firebase SDK -->
     
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-database.js"></script>

  <script>
    // Initialize Firebase with your project's config
    var firebaseConfig = {
        apiKey: "AIzaSyDXIbUIbKYmKVPUtfrzCPAxLb2t4r_Jlww",
        authDomain: "account-f83b4.firebaseapp.com",
        projectId: "account-f83b4",
        storageBucket: "account-f83b4.appspot.com",
        messagingSenderId: "374695878902",
        appId: "1:374695878902:web:72ea054fbd780f98650cd7",
        measurementId: "G-D0XY2VX61J"
    };
    firebase.initializeApp(firebaseConfig);
  </script>

  <script>
    // Function to check if a user is logged in or not
    function checkAuthState() {
      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          // User is signed in, proceed to the website
          window.location.href("users/user_1/user_1.html");
        } else {
          // No user is signed in, stay on the login page
        }
      });
    }

    // Function to handle the login form submission
    function login() {
      var email = document.getElementById("login_uname").value;
      var password = document.getElementById("login_pwd").value;

      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(function() {
          // Login successful, redirect to the homepage
          window.location.href("users/user_1/user_1.html");
        })
        .catch(function(error) {
          // Handle errors here
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log("Login error:", errorCode, errorMessage);
        });
    }
  </script>
    
</head>
<body>
    <div id="container">
        <div id="loginpage">
            <div id="login" class="animate__animated animate__flipInY">
                <h1 align ="center">Login</h1>
                <form id="login_frm" autocomplete="off">
                    <input type="text" placeholder="User Name" id="login_uname" required="required">
                    <small id="email_warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Your Email ID is not Registered</small>
                    <input type="password" placeholder="Password" id="login_pwd" required="required">
                    <small id="password_warning"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Wrong Password</small>
                    <button type="submit" id="login_btn" onclick="login()">Login</button>
                </form>
                <p>Don't have an account? <span id="signup_link">Sign Up</span><br><br>
<script>
    function demo()
    {
        var date = new Date();
        var time = date.toLocaleTimeString();
        var d = date.toLocaleDateString();
        document.write(d);
    }
    demo();
    
</script></p>
            </div>
            <div id="signup" class="animate__animated animate__flipInY">
                <h1 align="center">Sign up</h1>
                <form id="signup_frm" autocomplete="off">
                    <input type="name" required="required" placeholder="Name" id="username">
                    <input type="email" required="required" placeholder="Email" id="email">
                    <small id="email_notice"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Email ID already exist</small>
                    <input type="number" required="required" placeholder="Phone no." id="phone">
                    <input type="password" required="required" placeholder="Password" id="password">
                    <button type="submit" id="signup_btn">Sign up</button>
                </form>
                <p>Already have an account? <span id="login_link">Login</span><br><br>
<script>
    function demo()
    {
        var date = new Date();
        var time = date.toLocaleTimeString();
        var d = date.toLocaleDateString();
        document.write(d);
    }
    demo();
</script></p>
            </div>
    
        </div>

    </div>

<!--Start External Javascript coding-->
    
<script src="java/java.js"></script>
<!--<script src="java/login_signup.js"></script>-->
<script src="java/login.js"></script>



<!--End External Javascript coding-->
</body>
</html>